<template>
    <lightning-accordion allow-multiple-sections-open onsectiontoggle={handleSectionToggle}>
        <lightning-accordion-section label="Account Details" key={accountDetailsKey}>
            <div class="slds-p-around_medium">
                <p>Name: {account.Name}</p>
                <p>Industry: {account.Industry}</p>
                <p>Type: {account.Type}</p>
            </div>
        </lightning-accordion-section>

        <lightning-accordion-section label="Opportunities" key={opportunitiesKey} onsectiontoggle={handleSectionToggle}>
            <template if:true={opportunities}>
                <div class="slds-p-around_medium">
                    <template for:each={opportunities} for:item="opp">
                        <p key={opp.Id} onclick={handleOpportunityClick} data-id={opp.Id}>{opp.Name} - {opp.StageName} - ${opp.Amount}</p>
                    </template>
                </div>
            </template>
        </lightning-accordion-section>

        <lightning-accordion-section label="Opportunity Line Items" key={oppLineItemsKey} onsectiontoggle={handleSectionToggle}>
            <template if:true={oppLineItems}>
                <div class="slds-p-around_medium">
                    <template for:each={oppLineItems} for:item="oli">
                        <p key={oli.Id}>{oli.Product2.Name} - Quantity: {oli.Quantity} - Unit Price: ${oli.UnitPrice}</p>
                    </template>
                </div>
            </template>
        </lightning-accordion-section>
    </lightning-accordion>
</template>